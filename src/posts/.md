---
title: "ㅅㄷㄴㅅ"
date: "2025-04-25T13:45:57.804Z"
category: "react"
description: "ㅎㄴㅎㄴ"
---

## package.json
```json
"dependencies": {
    "husky": "^9.1.7",
    "lint-staged": "^15.5.0",
},
"devDependencies": {
    "@commitlint/cli": "^19.8.0",
    "@commitlint/config-conventional": "^19.8.0",
    "@eslint/eslintrc": "^3",
    "@types/node": "^20",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "eslint": "^9",
    "eslint-config-next": "15.2.4",
    "eslint-config-prettier": "^10.1.1",
    "eslint-plugin-prettier": "^5.2.5",
    "prettier": "^3.5.3",
    "typescript": "^5"
  }
```
의존성 패키지 설치 `npm install`

## 프리티어 규칙 설정
```json
{
  "singleAttributePerLine": true,
  "useEditorConfig": false,
  "semi": true,
  "tabWidth": 2,
  "printWidth": 80,
  "singleQuote": false,
  "jsxSingleQuote": false,
  "trailingComma": "es5",
  "bracketSpacing": true,
  "bracketSameLine": false,
  "arrowParens": "always",
  "endOfLine": "auto"
}
```

## ESLint 규칙 설정(v9)
```js
import { defineConfig } from "eslint/config";
import prettier from "eslint-plugin-prettier";
import typescriptEslint from "@typescript-eslint/eslint-plugin";
import react from "eslint-plugin-react";
import tsParser from "@typescript-eslint/parser";
import path from "node:path";
import { fileURLToPath } from "node:url";
import js from "@eslint/js";
import { FlatCompat } from "@eslint/eslintrc";

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);
const compat = new FlatCompat({
  baseDirectory: __dirname,
  recommendedConfig: js.configs.recommended,
  allConfig: js.configs.all,
});

export default defineConfig([
  {
    extends: compat.extends(
      "next/core-web-vitals",
      "next/typescript",
      "prettier" // 패키지 적용(충돌 방지). extends 마지막줄에 추가해야한다.
    ),

    plugins: {
      prettier,
      "@typescript-eslint": typescriptEslint,
      react,
    },

    languageOptions: {
      parser: tsParser,
      ecmaVersion: "latest",
      sourceType: "module",

      parserOptions: {
        project: ["tsconfig.json"],

        ecmaFeatures: {
          jsx: true,
        },
      },
    },

    // 에어비엔비 규칙 에서 필요한 부분만 추가
    rules: {
      "prettier/prettier": "error",
      "no-console": "warn",
      "no-unused-vars": "error",
      "prefer-const": "error",
      "arrow-body-style": ["error", "as-needed"],
      "object-shorthand": "error",
      "no-param-reassign": "error",
      "no-nested-ternary": "error",
      "react/jsx-pascal-case": "error",
      "react/self-closing-comp": "error",
      "react/jsx-no-useless-fragment": "error",
    },
  },
]);
```
## husky git hook 생성

`npx husky init` 명령어 실행시 프로젝트 디렉토리에 .husky 디렉토리 생성

pre-commit 파일 생성후 코드 추가
```
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

npx lint-staged
```
package.json 파일에 코드 추가
```json
"husky": {
	"hooks": {
		"pre-commit": "lint-staged"
	}
},
"lint-staged": {
	"*.js": "npm run lint" // js 파일만 검사하는 설정
}
```
코드가 많아질수록 lint 범위가 커져서 커밋이 느려지는 경우가 발생하기 때문에

lint-staged를 사용해서 commit 대상이 된 stage 상태의 파일에 대해서만 lint를 실행

pre-commit 이라는 git hook을 만들어서 commit 전에 lint-staged를 실행하도록 설정

## .vscode/settings.json
```json
{
  // 린트에러 빨간줄 표시
  "eslint.enable": true,
  // 저장시 액션
  "editor.codeActionsOnSave": {
    // 린트에러 수정
    "source.fixAll.eslint": "explicit",
    // 자동 임포트
    "source.addMissingImports": "explicit"
  },
  // 파일을 저장할 때마다 포맷팅 실행
  "editor.formatOnSave": true
}
```